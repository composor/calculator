!function(){"use strict";function t(t,e){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];for(var s=void 0,r=[];o.length;)Array.isArray(s=o.shift())?s.map(function(t){return o.push(t)}):null!=s&&"boolean"!=typeof s&&("number"==typeof s&&(s+=""),r.push(s));return"string"==typeof t?{type:t,props:e||{},children:r}:t(e||{},r)}function e(t){if(t&&t.props)return t.props.key}function n(t,e){var n={};for(var o in t)n[o]=t[o];for(var i in e)n[i]=e[i];return n}function o(t,e,o,i){if("key"===e);else if("style"===e&&"string"!=typeof o)for(var s in n(i,o=o||{}))t.style[s]=o[s]+""||"";else{if(0===o&&(o+=""),"className"===e&&(e="class"),"o"==e[0]&&"n"==e[1]&&(e=e.toLowerCase()),"dangerouslySetInnerHTML"===e)return void(t.innerHTML=o);"http://www.w3.org/2000/svg"!==t.namespaceURI&&(t[e]=o),"function"!=typeof o&&(o?"xlink-href"===e?(t.setAttributeNS("http://www.w3.org/1999/xlink","href",o),t.setAttribute("href",o)):t.setAttribute(e,o):t.removeAttribute(e))}}function i(t,e){return"string"==typeof t?document.createTextNode(t):(n=t,r=void 0,r=(s=(s=e)||"svg"===n.type)?document.createElementNS("http://www.w3.org/2000/svg",n.type):document.createElement(n.type),Object.keys(n.props).forEach(function(t){return o(r,t,n.props[t])}),n.children.map(function(t){return r.appendChild(i(t,s))}),r);var n,s,r}var s=function(t,e){return t.removeChild(e)};function r(t,r,a,u){return function t(r,a,u,l,c,h){if(null==u)a=r.insertBefore(i(l,c),a);else if(null!=l.type&&l.type===u.type){A=a,D=u.props,E=l.props,Object.keys(n(D,E)).forEach(function(t){var e=E[t],n="value"===t||"checked"===t?A[t]:D[t];e!==n&&o(A,t,e,n)}),c=c||"svg"===l.type;for(var p=l.children.length,m=u.children.length,d={},f=[],y={},v=0;v<m;){var b=f[v]=a.childNodes[v],w=u.children[v],S=e(w);null!=S&&(d[S]=[b,w]),v++}for(var k=0,N=0;N<p;){var g=f[k],x=u.children[k],C=l.children[N],W=e(x);if(y[W])k++;else{var U=e(C),M=d[U]||[];null==U?(null==W&&(t(a,g,x,C,c),N++),k++):(W===U?t(a,M[0],M[1],C,c)&&k++:M[0]?a.insertBefore(M[0],g)&&t(a,M[0],M[1],C,c):t(a,g,null,C,c),y[U]=C,N++)}}for(;k<m;){var O=u.children[k],j=e(O);null==j&&s(a,f[k]),k++}Object.keys(d).forEach(function(t){var e=d[t],n=e[1];y[n.props.key]||s(a,e[0])})}else a&&l!==a.nodeValue&&("string"==typeof l&&"string"==typeof u?a.nodeValue=l:(a=r.insertBefore(i(l,c),h=a),s(r,h,u.data)));var A,D,E;return a}(u||document.body,a,t,r)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=(function(){function t(t){this.value=t}function e(e){var n,o;function i(n,o){try{var r=e[n](o),a=r.value;a instanceof t?Promise.resolve(a.value).then(function(t){i("next",t)},function(t){i("throw",t)}):s(r.done?"return":"normal",r.value)}catch(t){s("throw",t)}}function s(t,e){switch(t){case"return":n.resolve({value:e,done:!0});break;case"throw":n.reject(e);break;default:n.resolve({value:e,done:!1})}(n=n.next)?i(n.key,n.arg):o=null}this._invoke=function(t,e){return new Promise(function(s,r){var a={key:t,arg:e,resolve:s,reject:r,next:null};o?o=o.next=a:(n=o=a,i(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)},p=(new Date).getTime(),m=function(){function t(e){u(this,t),e||(e={}),this.selector=e.container||e.root||"body",e.render&&(this.render=e.render),e.state&&(this.state=e.state),this.oldNode=null,this.selector&&(this.container=document.querySelector(this.selector)),this.componentShouldUpdate=!0,this.mounted=!1,this.element,(e.componentWillMount||e.beforeCreateComponent)&&(this.componentWillMount=e.componentWillMount||e.beforeCreateComponent),this.beforeCreateComponent&&(this.componentWillMount=this.beforeCreateComponent),(e.componentDidMount||e.componentWasCreated)&&(this.componentDidMount=e.componentDidMount||e.componentWasCreated),this.componentWasCreated&&(this.componentDidMount=this.componentWasCreated),e.componentWillUpdate&&(this.componentWillUpdate=e.componentWillUpdate),e.componentDidUpdate&&(this.componentDidUpdate=e.componentDidUpdate),e.componentWillUnmount&&(this.componentWillUnmount=e.componentWillUnmount)}return l(t,[{key:"setState",value:function(t,e){if("function"==typeof t){var o=t.call(this,this.state);"function"!=typeof o&&o&&this.setState(o)}else if(Array.isArray(this.state)){var i=this.state;e||0===e?"object"===a(i[e])?this.state=n(i[e],t):(i[e]=t,this.state=i):this.state=i}else if("object"===a(this.state)){var s=this.state;this.state=n(s,t)}else this.state=t}},{key:"update",value:function(t){if(this.render&&(this.componentShouldUpdate||!this.mounted)){var e=this.state;!0!==t&&t&&(e=t),this.container&&"string"==typeof this.container&&(this.selector=this.container,this.container=document.querySelector(this.container));var n=this.render,o=this.render(e),i=void 0;if(o&&o.props&&o.props.id&&(i=this.container&&this.container.querySelector("#"+o.props.id)),i&&!this.mounted&&i.parentNode.removeChild(i),this.element=r(this.oldNode,this.oldNode=this.render(e),this.element,this.container),!(this.mounted&&this.oldNode&&s(e)))return this.componentWillMount&&this.componentWillMount(this),this.componentDidMount&&this.componentDidMount(this),void(this.mounted=!0);this.componentWillUpdate&&this.componentWillUpdate(this),this.componentDidUpdate&&s(e)&&this.componentDidUpdate(this)}function s(t){return!this||JSON.stringify(this.oldNode)!==JSON.stringify(n(t))}}},{key:"unmount",value:function(){var t=this;if(this.element){for(var e in this.componentWillUnmount&&this.componentWillUnmount(this),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mouseleave","select","input","change","keydown","keypress","keyup","submit"].map(function(e){t.element.removeEventListener(e,t)}),this.container.removeChild(this.element),this.container=void 0,this)delete this[e];delete this.state,this.update=void 0,this.unmount=void 0}}},{key:"state",get:function(){return this[p]},set:function(t){var e=this;this[p]=t,h(function(){return e.update()})}}]),t}(),d=new m({container:"header",render:function(e){return t("nav",null,t("h1",null,e))}});function f(e){return t("div",{class:"editable-field",contentEditable:"false",spellcheck:"false"},e.number)}function y(e){return t("button",{class:e.class},e.text)}var v=[{text:"7",class:"7"},{text:"8",class:"8"},{text:"9",class:"9"},{text:"4",class:"4"},{text:"5",class:"5"},{text:"6",class:"6"},{text:"1",class:"1"},{text:"2",class:"2"},{text:"3",class:"3"},{text:".",class:"decimal"},{text:"0",class:"0"},{text:"=",class:"equals"}];function b(){return t("div",{class:"button-set--numbers"},v.map(function(e){return t(y,{text:e.text,class:e.class})}))}var w=[{text:"DEL",class:"delete"},{text:"รท",class:"divide"},{text:"ร",class:"multiply"},{text:"-",class:"subtract"},{text:"+",class:"add"}];function S(){return t("section",{class:"button-set--equations"},w.map(function(e){return t(y,{text:e.text,class:e.class})}))}var k=function(e){function n(t){u(this,n);var e=c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.state={currNum:"",total:0,memory:""},e.operation="",e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,m),l(n,[{key:"useNumber",value:function(t){var e=t.target.className;"decimal"===e&&(e="."),"0"===this.state.total&&(this.state.total=""),this.setState({currNum:e}),0!=this.state.total?this.setState({total:this.state.total+this.state.currNum}):this.setState({total:this.state.currNum})}},{key:"delete",value:function(){this.setState({currNum:"",total:0,memory:""})}},{key:"add",value:function(t){var e=this.state;e+=t,this.setState(e)}},{key:"subtract",value:function(t){var e=this.state;e-=t,this.setState(e)}},{key:"multiply",value:function(t){var e=this.state;e*=t,this.setState(e)}},{key:"divide",value:function(t){var e=this.state;e/=t,this.setState(e)}},{key:"render",value:function(){return t("main",{class:"composi-calculator"},t(f,{number:this.state.total}),t("div",{class:"calculator-body"},t(b,null),t(S,null)))}},{key:"handleEvent",value:function(t){if("BUTTON"===t.target.nodeName){var e=t.target.className;if("equals"!=e&&"delete"!==e&&"divide"!==e&&"multiply"!==e&&"add"!==e&&"subtract"!==e&&this.useNumber(t),"delete"===e&&this.delete(),"add"===e&&(this.setState({memory:this.state.total}),this.setState({total:"",oldNum:"",currNum:""}),this.operation="+"),"subtract"===e&&(this.setState({memory:this.state.total}),this.setState({total:"",oldNum:"",currNum:""}),this.operation="-"),"divide"===e&&(this.setState({memory:this.state.total}),this.setState({total:"",oldNum:"",currNum:""}),this.operation="/"),"multiply"===e&&(this.setState({memory:this.state.total}),this.setState({total:"",oldNum:"",currNum:""}),this.operation="*"),"equals"===e){var n=this.operation,o=parseFloat(this.state.memory),i=parseFloat(this.state.total);n||this.delete(),isNaN(o)&&(o=0),isNaN(i)&&(i=0),"+"===n&&this.setState({total:o+i}),"*"===n&&this.setState({total:o*i}),"/"===n&&this.setState({total:o/i}),"-"===n&&this.setState({total:o-i})}}}},{key:"componentWasCreated",value:function(){this.element.addEventListener("click",this)}}]),n}();d.state="Composi Calculator",(new k).update()}();
//# sourceMappingURL=app.js.map
